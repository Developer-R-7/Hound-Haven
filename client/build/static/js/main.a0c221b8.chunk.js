(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{109:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),s=a(27),r=a.n(s),i=(a(75),a(2)),o=a.n(i),l=a(6),d=a(3),u=a(9),j=a.n(u),b=a(15),m=a(10),p=a(16),h=a(12),O=Object(n.createContext)(null),f=a(11),x=a(1),v=function(){var e=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_LOCAL_STORAGE,t=Object(n.useState)(null),a=Object(d.a)(t,2),c=a[0],s=a[1],r=Object(n.useRef)(null),i=Object(n.useRef)(null),u=Object(n.useState)(null),b=Object(d.a)(u,2),m=b[0],v=b[1],g=Object(n.useContext)(O).setNewPetData,N=function(e){v(Object(h.a)(Object(h.a)({},m),{},Object(p.a)({},e.target.name,e.target.value)))},y=function(){var t=Object(l.a)(o.a.mark((function t(a){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),t.prev=1,(n=new FormData).append("file",c),!e||!c){t.next=7;break}return t.next=7,j.a.post("/api/saveLocImage",n,{headers:{"x-auth-token":localStorage.getItem("auth-token")}}).then((function(e){return m.PetImageLoc=e.data.fileUrl}));case 7:if(e||!c){t.next=10;break}return t.next=10,j.a.post("/api/saveImage",n,{headers:{"x-auth-token":localStorage.getItem("auth-token")}}).then((function(e){return m.PetImageLoc=e.data.fileUrl}));case 10:return t.next=12,j.a.post("/api/pet",m,{headers:{"x-auth-token":localStorage.getItem("auth-token")}});case 12:g(!0),window.location.reload(),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(1),console.log(t.t0);case 19:case"end":return t.stop()}}),t,null,[[1,16]])})));return function(e){return t.apply(this,arguments)}}(),D=function(){var e=Object(l.a)(o.a.mark((function e(t){var a,n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault();try{(a=t.target.files[0])&&s(a),a&&(n=new FileReader,(c=r.current).file=a,n.onload=function(e){c.src=e.target.result},n.readAsDataURL(a))}catch(i){f.b.error("There was a problem uploading the image, please try again"+i)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsx)("div",{className:"modal",id:"addAPetModal",tabIndex:"-1",children:Object(x.jsx)("div",{className:"modal-dialog modal-md ",children:Object(x.jsxs)("div",{className:"modal-content",children:[Object(x.jsxs)("div",{className:"modal-header",children:[Object(x.jsx)("h4",{children:"My Pet"}),Object(x.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(x.jsx)("div",{style:{display:"inline-flex",justifyContent:"center"},className:"modal-body",children:Object(x.jsxs)("form",{children:[Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsxs)("label",{children:["Add Photo ",Object(x.jsx)("i",{className:"fa fa-camera"})]}),Object(x.jsx)("br",{}),Object(x.jsx)("div",{style:{height:"60px",width:"60px",border:"1px dashed black",borderRadius:"100%"},onClick:function(){return i.current.click()},children:Object(x.jsx)("img",{ref:r,style:{height:"60px",width:"60px",border:"none",borderRadius:"50%"}})}),Object(x.jsx)("div",{className:"container",children:Object(x.jsx)("input",{onChange:function(e){return D(e)},ref:i,type:"file",accept:"image/*",multiple:!1,name:"PetImageLoc",style:{display:"none"}})})]}),Object(x.jsx)("p",{}),Object(x.jsx)("div",{className:"form-group",children:Object(x.jsx)("input",{onChange:N,placeholder:"Pet Name",name:"PetName",type:"text"})}),Object(x.jsx)("p",{}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{children:"Birth Date"}),Object(x.jsx)("br",{}),Object(x.jsx)("input",{onChange:N,placeholder:"Birth Date",name:"BirthDate",type:"date"})]}),Object(x.jsx)("p",{}),Object(x.jsx)("div",{className:"form-group",children:Object(x.jsx)("input",{onChange:N,placeholder:"Gender",name:"Gender",type:"text"})}),Object(x.jsx)("p",{}),Object(x.jsx)("div",{className:"form-group",children:Object(x.jsx)("input",{onChange:N,placeholder:"Type of Pet",name:"TypeOfPet",type:"text"})}),Object(x.jsx)("p",{}),Object(x.jsx)("div",{className:"form-group",children:Object(x.jsx)("input",{onChange:N,placeholder:"Breed",name:"Breed",type:"text"})})]})}),Object(x.jsx)("div",{onClick:y,className:"modal-footer","data-bs-dismiss":"modal",children:Object(x.jsx)("button",{type:"submit",className:"btn save-pet-submit",children:"Save Pet"})})]})})})},g=Object(n.createContext)(null),N=function(e){var t,a=Object(n.useContext)(g).userData,c=Object(n.useContext)(O).setNewPetData,s=Object(n.useContext)(O).setPets,r=Object(n.useContext)(O),i=r.petId,u=r.setPetId,b=Object(n.useState)(null===(t=a.user)||void 0===t?void 0:t.id),m=Object(d.a)(b,1)[0];Object(n.useEffect)((function(){(function(){var e=Object(l.a)(o.a.mark((function e(t){var a,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="/api/getpetbyuser/".concat(t),e.prev=1,e.next=4,j.a.get(a,{headers:{"x-auth-token":localStorage.getItem("auth-token")}});case 4:n=e.sent,(r=n.data)&&s(r),c(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}})()(m)}),[c,s,m]);var p=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,j.a.delete("/api/pet/".concat(i),{headers:{"x-auth-token":localStorage.getItem("auth-token")}});case 4:u(""),window.location.reload(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsx)("div",{id:"confirmDelete",className:"modal fade",children:Object(x.jsx)("div",{className:"modal-dialog modal-confirm",children:Object(x.jsxs)("div",{className:"modal-content",children:[Object(x.jsxs)("div",{className:"modal-header flex-column",children:[Object(x.jsx)("div",{className:"icon-box",children:Object(x.jsx)("i",{className:"fa fa-times-circle"})}),Object(x.jsx)("h4",{className:"modal-title w-100",children:"Are you sure?!"})]}),Object(x.jsx)("div",{className:"modal-body",children:Object(x.jsx)("p",{children:"Do you really want to delete this pet? This cannot be undone."})}),Object(x.jsxs)("div",{className:"modal-footer justify-content-center",children:[Object(x.jsx)("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Cancel"}),Object(x.jsx)("div",{onClick:p,"data-bs-dismiss":"modal",children:Object(x.jsx)("button",{type:"button",className:"btn btn-danger",children:"Delete"})})]})]})})})};function y(e){return D.apply(this,arguments)}function D(){return(D=Object(l.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.prev=1,e.next=4,j.a.get("/api/pet/".concat(t),{headers:{"x-auth-token":localStorage.getItem("auth-token")}});case 4:return a=e.sent,n=a.data,e.abrupt("return",n);case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}var w=function(){var e=Object(l.a)(o.a.mark((function e(t){var a,n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="/api/getpetbyuser/".concat(t),e.prev=1,e.next=4,j.a.get(a,{headers:{"x-auth-token":localStorage.getItem("auth-token")}});case 4:return n=e.sent,c=n.data,e.abrupt("return",c);case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e,t,a=Object(n.useContext)(g).userData,c=Object(n.useContext)(O),s=(c.newPetData,c.setNewPetData),r=Object(n.useContext)(O).setPetId,i=Object(m.f)(),u=Object(n.useContext)(O),j=u.pets,b=u.setPets,p=Object(n.useState)(null===(e=a.user)||void 0===e?void 0:e.id),h=Object(d.a)(p,1)[0],f=Object(n.useState)(),y=Object(d.a)(f,2),D=(y[0],y[1]),k=null===(t=a.user)||void 0===t?void 0:t.displayName;Object(n.useEffect)((function(){a.user||i.push("/login")}),[a.user,i]),Object(n.useEffect)((function(){b(w(h)),s(!1)}),[s,h,b]);var C=function(){var e=Object(l.a)(o.a.mark((function e(t,a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault();try{r(a),n=j.filter((function(e){return e._id===a})),D(n),i.push({pathname:"/petDash",state:{info:n}})}catch(c){console.log("something wrong")}case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("div",{className:"container pets-container",children:[Object(x.jsx)("div",{className:"row",children:Object(x.jsx)("div",{className:"col-xs-12 py-5",children:Object(x.jsx)("div",{className:"header-styles",children:Object(x.jsxs)("h2",{className:"myPet-header",children:[k,"'s Pets"]})})})}),Object(x.jsxs)("div",{className:"rounded col-12 home-card",children:[Object(x.jsx)("div",{className:"row",children:Object(x.jsxs)("div",{className:"col-12 py-5",children:[Object(x.jsx)("div",{children:j.length>0&&j.map((function(e,t){return Object(x.jsx)("div",{className:"row",children:Object(x.jsxs)("div",{className:"user-saved-pets py-1",children:[Object(x.jsx)("button",{"data-bs-toggle":"modal","data-bs-target":"#confirmDelete",onClick:function(t){r(e._id)},type:"button",className:" delete-pet-btn btn",children:Object(x.jsx)("i",{className:"fa fa-minus-circle"})}),Object(x.jsxs)("button",{onClick:function(t){return C(t,e._id)},value:e._id,type:"button",className:"saved-pet-btn btn btn-floating",children:[e.PetImageLoc?Object(x.jsx)("img",{style:{height:"30px",width:"30px",borderRadius:"100%"},src:e.PetImageLoc,alt:"pet Image"}):Object(x.jsx)("img",{style:{height:"30px",width:"30px",borderRadius:"100%"},src:"./images/paw-print-small.png",alt:"pet Image"}),"\xa0\xa0\xa0\xa0",Object(x.jsx)("span",{children:e.PetName})]},e._id)]})},t)}))}),0===j.length&&Object(x.jsx)("h2",{className:"click-plus-instructions",children:'Click the "+" to add your pets!'})]})}),Object(x.jsx)("div",{className:"add-new-pet",children:Object(x.jsx)("button",{"data-bs-toggle":"modal","data-bs-target":"#addAPetModal",type:"button",className:"add-pet-btn btn btn-circle btn-xl shadow",children:Object(x.jsx)("i",{className:"fa fa-plus"})})})]})]}),Object(x.jsx)(N,{}),Object(x.jsx)(v,{})]})},C=function(){var e=Object(n.useContext)(g).userData,t=Object(m.f)(),a=Object(n.useState)({}),c=Object(d.a)(a,2),s=c[0],r=c[1],i=function(e){r(Object(h.a)(Object(h.a)({},s),{},Object(p.a)({},e.target.name,e.target.value)))},u=function(){var e=Object(l.a)(o.a.mark((function e(a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),e.prev=1,s.displayName&&s.email&&s.password&&s.passwordCheck){e.next=4;break}return e.abrupt("return",f.b.error("Please enter all fields."));case 4:if(s.passwordCheck===s.password){e.next=6;break}return e.abrupt("return",f.b.error("Password does not match the check."));case 6:if(!(s.password.length<8)){e.next=8;break}return e.abrupt("return",f.b.error("Password must contain at least 8 characters."));case 8:return e.next=10,j.a.post("/users/register",s);case 10:f.b.success("Check your email and follow the link to verify your account!"),t.push("/login"),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),f.b.error(e.t0.response);case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){e.user&&t.push("/")}),[e.user,t]),Object(x.jsx)("div",{className:"col-md-6 log-reg-form",children:Object(x.jsxs)("form",{onSubmit:u,children:[Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{children:"Email"}),Object(x.jsx)("input",{onChange:i,name:"email",type:"email",className:"form-control","aria-describedby":"emailHelp",placeholder:"Enter email"}),Object(x.jsx)("small",{id:"emailHelp",className:"form-text text-muted",children:"We'll never share your email with anyone else."})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{children:"Password"}),Object(x.jsx)("input",{onChange:i,type:"password",name:"password",className:"form-control",placeholder:"Password"})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{children:"Password Check"}),Object(x.jsx)("input",{onChange:i,type:"password",name:"passwordCheck",className:"form-control",placeholder:"Verify Password"})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{children:"Preferred Name"}),Object(x.jsx)("input",{onChange:i,type:"text",name:"displayName",className:"form-control",placeholder:"Preferred Name"})]}),Object(x.jsx)("button",{className:"register-btn rounded-pill",type:"submit",children:"Register"}),Object(x.jsx)("button",{className:"login-btn rounded-pill",style:{margin:20},onClick:function(){return t.push("/login")},children:"Login"})]})})},S=function(){return Object(x.jsx)("div",{className:"col-md-5 about-card m-4",children:Object(x.jsxs)("div",{className:"card text-center w-75 border-0",children:[Object(x.jsx)("h5",{className:"card-title",children:"The My Pet App"}),Object(x.jsxs)("div",{className:"card-body",children:[Object(x.jsx)("img",{src:"../images/paw_logo.PNG",alt:"petLogo",className:"p-3 img-fluid rounded-circle w-10"}),Object(x.jsx)("p",{className:"card-text",children:"Love your pet and want to make sure they are well taken care of? It can be difficult to keep up with regular pet exams, yearly vaccinations, and medications. After all, we have a hard enough time keeping up with our own health let alone that of our furry, feathery, or scaly friends. That's where My Pet comes in! A user friendly app that keeps track of your pets and all their medical needs for a healthier life."})]})]})})},P=function(){var e=Object(n.useContext)(g).userData,t=Object(m.f)();return Object(n.useEffect)((function(){e.user&&t.push("/")}),[e.user,t]),Object(x.jsx)("div",{children:Object(x.jsx)("div",{className:"container-fluid",children:Object(x.jsxs)("div",{className:"row align-items-center ",children:[Object(x.jsx)(S,{}),Object(x.jsx)(C,{})]})})})},I=function(){var e=Object(n.useContext)(g),t=e.userData,a=e.setUserData,c=Object(m.f)(),s=Object(n.useState)({}),r=Object(d.a)(s,2),i=r[0],u=r[1],b=function(e){u(Object(h.a)(Object(h.a)({},i),{},Object(p.a)({},e.target.name,e.target.value)))},O=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,j.a.post("/users/login",i);case 4:n=e.sent,(s=n.data).user.confirmed?(a({token:s.token,user:s.user}),localStorage.setItem("auth-token",s.token),c.push("/")):f.b.error("Your account has not been verified, please check your email."),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log("err",e.t0.response),f.b.error(e.t0.response.data.msg);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){t.user&&c.push("/")}),[t.user,c]),Object(x.jsx)("div",{className:"col-md-6 log-reg-form",children:Object(x.jsxs)("form",{onSubmit:O,children:[Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{children:"Email"}),Object(x.jsx)("input",{onChange:b,name:"email",type:"email",className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",placeholder:"Enter email"}),Object(x.jsx)("small",{id:"emailHelp",className:"form-text text-muted",children:"We'll never share your email with anyone else."})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{children:"Password"}),Object(x.jsx)("input",{onChange:b,type:"password",name:"password",className:"form-control",id:"exampleInputPassword1",placeholder:"Password"})]}),Object(x.jsx)("button",{className:"login-btn rounded-pill",type:"submit",children:"Login"}),Object(x.jsx)("button",{className:"register-btn rounded-pill",style:{margin:20},onClick:function(){return c.push("/Register")},children:"Register"})]})})},V=function(){var e=Object(n.useContext)(g).userData,t=Object(m.f)();return Object(n.useEffect)((function(){e.user&&t.push("/")}),[e.user,t]),Object(x.jsx)("div",{className:"container-fluid",children:Object(x.jsxs)("div",{className:"row align-items-center ",children:[Object(x.jsx)(S,{}),Object(x.jsx)(I,{})]})})},M=a(23),Y=a.n(M),E=a(17),R=a.n(E),T=function(e){var t=Object(n.useState)(e.data._id),a=Object(d.a)(t,1)[0],c=Object(n.useState)({VisitDate:R.a.utc(e.data.VisitDate).format("YYYY-MM-DD"),VisitNotes:e.data.VisitNotes}),s=Object(d.a)(c,2),r=s[0],i=s[1];console.log(r);var u=Object(n.useState)(""),j=Object(d.a)(u,2),b=j[0],m=j[1],O=Object(n.useState)(""),f=Object(d.a)(O,2),v=f[0],g=f[1],N=function(e){i(Object(h.a)(Object(h.a)({},r),{},Object(p.a)({},e.target.name,e.target.value)))};Object(n.useEffect)((function(){0!==a&&(m(e.data.VisitDate),g(e.data.VisitNotes))}),[a,e.data.VisitDate,e.data.VisitNotes]);var y=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault();case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsx)("div",{className:"col-md-6",children:Object(x.jsxs)("form",{name:"addVisitForm",onSubmit:y,children:[Object(x.jsx)("input",{type:"hidden",id:"visitId",name:"visitId",value:a}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{children:"Visit Date"}),Object(x.jsx)("input",{onChange:N,type:"date",name:"VisitDate",className:"form-control",placeholder:"Date of Visit",defaultValue:R.a.utc(b).format("YYYY-MM-DD"),value:r.VisitDate})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{children:"Notes"}),Object(x.jsx)("input",{onChange:N,type:"text",name:"VisitNotes",className:"form-control",placeholder:"Enter Visit Notes",defaultValue:v,value:r.VisitNotes})]})]})})},_=a(113),A=a(111),F=function(e){var t=e,a=Object(n.useContext)(O),c=a.petId,s=a.setPetId,r=Object(n.useState)(t.VetVisits),i=Object(d.a)(r,2),u=i[0],b=i[1],m=Object(n.useState)(!1),p=Object(d.a)(m,2),h=p[0],v=p[1],g=Object(n.useState)(!1),N=Object(d.a)(g,2),D=N[0],w=N[1],k=Object(n.useState)(null),C=Object(d.a)(k,2),S=C[0],P=C[1];s(null===e||void 0===e?void 0:e.petI);var I=function(){w(!1),y(c).then((function(e){return b(e.VetVisits)}))};u.sort((function(e,t){var a=e.VisitDate,n=t.VisitDate;return a<n?1:a>n?-1:0}));var V=function(){var e=Object(l.a)(o.a.mark((function e(t,a,n){var s,r,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r=a.addVisitForm.visitId.value,i={VisitDate:a.addVisitForm.VisitDate.value,VisitNotes:a.addVisitForm.VisitNotes.value},s=h?"/api/updatePetVisit/".concat(c,"/").concat(r):"/api/addPetVisit/".concat(c),e.abrupt("return",n(s,i));case 5:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),M=function(){var e=Object(l.a)(o.a.mark((function e(t,a,n){var s,r,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),s=a.addVisitForm.visitId.value,r={},i="/api/delPetVisit/".concat(c,"/").concat(s),e.abrupt("return",n(i,r));case 5:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),E=function(){var e=Object(l.a)(o.a.mark((function e(t,a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.put(t,a,{headers:{"x-auth-token":localStorage.getItem("auth-token")}});case 3:I(),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0),f.b.error(e.t0.response);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){}),[I]);var R=function(){var e=Object(l.a)(o.a.mark((function e(t,a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),P(a),v(!0),w(!0);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),F=function(){var e=Object(l.a)(o.a.mark((function e(t,a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),v(!1),w(!0),P(a);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return Object(x.jsx)("div",{className:"card m-2 shadow rounded",id:"petDashCard",children:Object(x.jsxs)("div",{className:"card-body text-center",children:[Object(x.jsx)("h3",{className:"card-title",children:"Vet Visits"}),Object(x.jsx)("div",{className:"pet-table",children:Object(x.jsx)("ul",{className:"overflow-auto",children:u.map((function(e){return Object(x.jsx)("div",{className:"container py-1",children:Object(x.jsxs)("li",{name:"editVisitBtn",onClick:function(t){return R(t,e)},className:"pet-list btn w-75",children:[Object(x.jsx)("div",{children:Object(x.jsx)(Y.a,{utc:!0,format:"MM/DD/YYYY",children:e.VisitDate})}),"\xa0 ",e.VisitNotes]})},e._id)}))})}),Object(x.jsx)("button",{name:"addVisitBtn",onClick:function(e){return F(e,"{_id: 0}")},className:"edit-visis-btn btn btn-circle shadow",children:Object(x.jsx)("i",{className:"fa fa-plus my-float"})}),Object(x.jsxs)(_.a,{show:D,onHide:I,children:[Object(x.jsx)(_.a.Header,{closeButton:!0,children:Object(x.jsx)(_.a.Title,{children:"Add or Edit a Vet Visit"})}),Object(x.jsx)(_.a.Body,{children:Object(x.jsx)(T,{petId:c,data:S,existing:!1})}),Object(x.jsxs)(_.a.Footer,{children:[h?Object(x.jsx)(A.a,{className:"delete-saved-entry",onClick:function(e){return M(e,document.forms,E)},children:"Remove Visit"}):null,Object(x.jsx)(A.a,{className:"save-updated-entry",onClick:function(e){return V(e,document.forms,E)},children:"Submit Changes"})]})]})]})})},B=function(e){var t=Object(n.useState)(e.data._id),a=Object(d.a)(t,1)[0],c=Object(n.useState)({MedicationName:e.data.MedicationName,DueDate:R.a.utc(e.data.DueDate).format("YYYY-MM-DD"),Dose:e.data.Dose}),s=Object(d.a)(c,2),r=s[0],i=s[1],o=Object(n.useState)(""),l=Object(d.a)(o,2),u=l[0],j=l[1],b=Object(n.useState)(""),m=Object(d.a)(b,2),O=m[0],f=m[1],v=Object(n.useState)(""),g=Object(d.a)(v,2),N=g[0],y=g[1];Object(n.useEffect)((function(){0!==a&&(j(e.data.MedicationName),f(e.data.DueDate),y(e.data.Dose))}),[a,e.data.MedicationName,e.data.DueDate,e.data.Dose]);var D=function(e){i(Object(h.a)(Object(h.a)({},r),{},Object(p.a)({},e.target.name,e.target.value)))};return Object(x.jsx)("div",{className:"col-md-6",children:Object(x.jsxs)("form",{name:"addMedForm",onSubmit:function(e){e.preventDefault()},children:[Object(x.jsx)("input",{type:"hidden",id:"medId",name:"medId",value:a}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{children:"Medication Name"}),Object(x.jsx)("input",{onChange:D,name:"medication",type:"text",className:"form-control",placeholder:"Enter Medication Name",defaultValue:u})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{children:"Start Date"}),Object(x.jsx)("input",{onChange:D,type:"date",name:"startDate",className:"form-control",placeholder:"Start Date",defaultValue:R.a.utc(O).format("YYYY-MM-DD")})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{children:"Doseage"}),Object(x.jsx)("input",{onChange:D,type:"text",name:"dose",className:"form-control",placeholder:"Ener Dosage",defaultValue:N})]})]})})},L=function(e){var t=Object(n.useContext)(O),a=t.petId,c=(t.setPetId,Object(n.useState)(e.meds)),s=Object(d.a)(c,2),r=s[0],i=s[1],u=Object(n.useState)(!1),b=Object(d.a)(u,2),m=b[0],p=b[1],h=Object(n.useState)(null),v=Object(d.a)(h,2),g=v[0],N=v[1],D=Object(n.useState)(!1),w=Object(d.a)(D,2),k=w[0],C=w[1],S=function(){p(!1),y(a).then((function(e){return i(e.Medications)}))};Object(n.useEffect)((function(){}),[r]),r.sort((function(e,t){var a=e.DueDate,n=t.DueDate;return a<n?1:a>n?-1:0}));var P=function(){var e=Object(l.a)(o.a.mark((function e(t,n,c){var s,r,i,l,d;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r=n.addMedForm.medication.value,i=n.addMedForm.startDate.value,l=n.addMedForm.dose.value,d={MedicationName:r,DueDate:i,Dose:l},s=k?"/api/updatePetMed/".concat(a,"/").concat(n.addMedForm.medId.value):"/api/addpetmed/".concat(a),e.abrupt("return",c(s,d));case 7:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),I=function(){var e=Object(l.a)(o.a.mark((function e(t,n,c){var s,r,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),s={},r=n.addMedForm.medId.value,i="/api/delPetMed/".concat(a,"/").concat(r),console.log(i,s,r),e.abrupt("return",c(i,s));case 6:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),V=function(){var e=Object(l.a)(o.a.mark((function e(t,a,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.put(t,a,{headers:{"x-auth-token":localStorage.getItem("auth-token")}});case 3:S(),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0),f.b.error({message:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a,n){return e.apply(this,arguments)}}(),M=function(){var e=Object(l.a)(o.a.mark((function e(t,a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),N(a),C(!0),p(!0);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return Object(x.jsx)("div",{className:"card m-2 shadow rounded",id:"petDashCard",children:Object(x.jsxs)("div",{className:"card-body text-center",children:[Object(x.jsx)("h3",{className:"card-title",children:"Medications"}),Object(x.jsx)("div",{className:"pet-table",children:Object(x.jsx)("ul",{className:"overflow-auto",children:r.map((function(e){return Object(x.jsx)("div",{className:"container py-1",children:Object(x.jsxs)("li",{onClick:function(t){return M(t,e)},className:"pet-list btn w-75",children:[Object(x.jsx)("div",{children:e.MedicationName}),Object(x.jsxs)("div",{children:["Next Dose:\xa0",Object(x.jsx)(Y.a,{utc:!0,format:"MM/DD/YYYY",children:e.DueDate})]}),"\xa0",e.Dose]})},e._id)}))})}),Object(x.jsx)("button",{name:"addMedBtn",onClick:function(e){return function(e,t){e.preventDefault(),N(t),C(!1),p(!0)}(e,"{_id: 0}")},className:"edit-medications-btn btn btn-circle shadow",children:Object(x.jsx)("i",{className:"fa fa-plus my-float"})}),Object(x.jsxs)(_.a,{show:m,onHide:S,children:[Object(x.jsx)(_.a.Header,{closeButton:!0,children:Object(x.jsx)(_.a.Title,{children:"Add or Edit Medication"})}),Object(x.jsx)(_.a.Body,{children:Object(x.jsx)(B,{petId:a,data:g,existing:!1})}),Object(x.jsxs)(_.a.Footer,{children:[k?Object(x.jsx)(A.a,{className:"delete-saved-entry",onClick:function(e){return I(e,document.forms,V)},children:"Remove Medication"}):null,Object(x.jsx)(A.a,{className:"save-updated-entry",onClick:function(e){return P(e,document.forms,V)},children:"Submit Changes"})]})]})]})})},H=function(e){var t=Object(n.useState)(e.data._id),a=Object(d.a)(t,1)[0],c=Object(n.useState)({Date:R()(e.data.Date).format("YYYY-MM-DD"),Title:e.data.Title,Note:e.data.Note}),s=Object(d.a)(c,2),r=s[0],i=s[1],u=Object(n.useState)(""),j=Object(d.a)(u,2),b=j[0],m=j[1],O=Object(n.useState)(""),f=Object(d.a)(O,2),v=f[0],g=f[1],N=Object(n.useState)(""),y=Object(d.a)(N,2),D=y[0],w=y[1];Object(n.useEffect)((function(){0!==a&&(m(e.data.Date),g(e.data.Note),w(e.data.Title))}),[a,e.data.Date,e.data.Note,e.data.Title]);var k=function(e){i(Object(h.a)(Object(h.a)({},r),{},Object(p.a)({},e.target.name,e.target.value)))},C=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault();case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsx)("div",{className:"col-md-6",children:Object(x.jsxs)("form",{name:"addReminderForm",onSubmit:C,children:[Object(x.jsx)("input",{type:"hidden",id:"reminderId",name:"reminderId",value:a}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{children:"Date"}),Object(x.jsx)("input",{onChange:k,type:"date",name:"Date",className:"form-control",placeholder:"Date reminder needed",defaultValue:R()(b).format("YYYY-MM-DD"),value:r.Date}),Object(x.jsx)("label",{children:"Title"}),Object(x.jsx)("input",{onChange:k,type:"text",name:"Title",className:"form-control",placeholder:"title",defaultValue:D,value:r.Title}),Object(x.jsx)("label",{children:"Note"}),Object(x.jsx)("input",{onChange:k,type:"text",name:"Note",className:"form-control",placeholder:"note",defaultValue:v,value:r.Note})]})]})})},U=function(e){var t=e,a=Object(n.useContext)(O),c=a.petId,s=(a.setPetId,Object(n.useState)(t.Reminders)),r=Object(d.a)(s,2),i=r[0],u=r[1],b=Object(n.useState)(!1),m=Object(d.a)(b,2),p=m[0],h=m[1],v=Object(n.useState)(!1),g=Object(d.a)(v,2),N=g[0],D=g[1],w=Object(n.useState)(null),k=Object(d.a)(w,2),C=k[0],S=k[1],P=function(){D(!1),y(c).then((function(e){return u(e.Reminders)}))};i.sort((function(e,t){var a=e.Date,n=t.Date;return a<n?1:a>n?-1:0}));var I=function(){var e=Object(l.a)(o.a.mark((function e(t,a,n){var s,r,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r=a.addReminderForm.reminderId.value,i={Date:a.addReminderForm.Date.value,Title:a.addReminderForm.Title.value,Note:a.addReminderForm.Note.value},s=p?"/api/updatePetReminder/".concat(c,"/").concat(r):"/api/addPetReminder/".concat(c),e.abrupt("return",n(s,i));case 5:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),V=function(){var e=Object(l.a)(o.a.mark((function e(t,a,n){var s,r,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),s=a.addReminderForm.reminderId.value,r={},i="/api/delPetReminder/".concat(c,"/").concat(s),e.abrupt("return",n(i,r));case 5:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),M=function(){var e=Object(l.a)(o.a.mark((function e(t,a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.put(t,a,{headers:{"x-auth-token":localStorage.getItem("auth-token")}});case 3:P(),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0),f.b.error(e.t0.response);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){}),[P]);var E=function(){var e=Object(l.a)(o.a.mark((function e(t,a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),S(a),h(!0),D(!0);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),R=function(){var e=Object(l.a)(o.a.mark((function e(t,a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),h(!1),D(!0),S(a);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return Object(x.jsx)("div",{className:"card m-2 shadow rounded",id:"petDashCard",children:Object(x.jsxs)("div",{className:"card-body text-center",children:[Object(x.jsx)("h3",{className:"card-title",children:"Reminders"}),Object(x.jsx)("div",{className:"pet-table",children:Object(x.jsx)("ul",{className:"overflow-auto",children:i.map((function(e){return Object(x.jsx)("div",{className:"container py-1",children:Object(x.jsxs)("li",{onClick:function(t){return E(t,e)},className:"pet-list btn w-75",children:[Object(x.jsx)("div",{children:Object(x.jsx)(Y.a,{format:"MM/DD/YYYY",children:e.Date})}),Object(x.jsx)("div",{children:e.Title}),"\xa0",e.Note]})},e._id)}))})}),Object(x.jsx)("button",{onClick:function(e){return R(e,"{_id: 0}")},className:"edit-reminders-btn btn btn-circle shadow",children:Object(x.jsx)("i",{className:"fa fa-plus my-float"})}),Object(x.jsxs)(_.a,{show:N,onHide:P,children:[Object(x.jsx)(_.a.Header,{closeButton:!0,children:Object(x.jsx)(_.a.Title,{children:"Add or Edit Reminders"})}),Object(x.jsx)(_.a.Body,{children:Object(x.jsx)(H,{petId:c,data:C,existing:!1})}),Object(x.jsxs)(_.a.Footer,{children:[p?Object(x.jsx)(A.a,{className:"delete-saved-entry",onClick:function(e){return V(e,document.forms,M)},children:"Delete Reminder"}):null,Object(x.jsx)(A.a,{className:"save-updated-entry",onClick:function(e){return I(e,document.forms,M)},children:"Submit Changes"})]})]})]})})},G=function(e){var t=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_LOCAL_STORAGE,a=Object(n.useRef)(null),c=Object(n.useRef)(null),s=Object(n.useState)(null),r=Object(d.a)(s,2),i=r[0],u=r[1],b=Object(n.useState)(null),v=Object(d.a)(b,2),g=v[0],N=v[1],y=Object(n.useContext)(O),D=y.newPetData,w=y.setNewPetData,k=e.data,C=Object(m.f)();Object(n.useEffect)((function(){k&&N(k)}),[k]),Object(n.useEffect)((function(){D&&C.push({pathname:"/petDash",state:{info:D}})}),[D]);var S=function(e){N(Object(h.a)(Object(h.a)({},g),{},Object(p.a)({},e.target.name,e.target.value)))},P=function(){var e=Object(l.a)(o.a.mark((function e(a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),e.prev=1,(n=new FormData).append("file",i),!t||!i){e.next=7;break}return e.next=7,j.a.post("/api/saveLocImage",n,{headers:{"x-auth-token":localStorage.getItem("auth-token")}}).then((function(e){return g.PetImageLoc=e.data.fileUrl}));case 7:if(t||!i){e.next=10;break}return e.next=10,j.a.post("/api/saveImage",n,{headers:{"x-auth-token":localStorage.getItem("auth-token")}}).then((function(e){return g.PetImageLoc=e.data.fileUrl}));case 10:return e.next=12,j.a.patch("/api/updatepet/"+g._id,g,{headers:{"x-auth-token":localStorage.getItem("auth-token")}});case 12:w(!0),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,c,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault();try{(n=t.target.files[0])&&u(n),n&&(c=new FileReader,(s=a.current).file=n,c.onload=function(e){s.src=e.target.result},c.readAsDataURL(n))}catch(r){f.b.error("There was a problem uploading the image, please try again"+r)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsx)("div",{className:"modal",id:"editAPetModal",tabIndex:"-1",children:Object(x.jsx)("div",{className:"modal-dialog modal-md",children:Object(x.jsxs)("div",{className:"modal-content",children:[Object(x.jsxs)("div",{className:"modal-header",children:[Object(x.jsx)("h4",{children:"Pet Editor"}),Object(x.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(x.jsx)("div",{style:{display:"inline-flex",justifyContent:"center"},className:"modal-body",children:Object(x.jsxs)("form",{children:[Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsxs)("label",{children:["Add Photo ",Object(x.jsx)("i",{className:"fa fa-camera"})]}),Object(x.jsx)("br",{}),Object(x.jsx)("div",{style:{height:"60px",width:"60px",border:"1px dashed black",borderRadius:"100%"},onClick:function(){return c.current.click()},children:Object(x.jsx)("img",{ref:a,style:{height:"60px",width:"60px",border:"none",borderRadius:"100%"}})}),Object(x.jsx)("input",{onChange:function(e){return I(e)},ref:c,type:"file",accept:"image/*",multiple:!1,name:"PetImageLoc",style:{display:"none"}})]}),Object(x.jsx)("p",{}),Object(x.jsx)("div",{className:"form-group",children:Object(x.jsx)("input",{onChange:S,placeholder:"Pet name",name:"PetName",type:"text",defaultValue:g&&g.PetName})}),Object(x.jsx)("p",{}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{children:"Birth Date"}),Object(x.jsx)("br",{}),Object(x.jsx)("input",{onChange:S,placeholder:"Birth Date",name:"BirthDate",type:"date",defaultValue:g&&(R()(g.BirthDate).format="MM/DD/YYYY")})]}),Object(x.jsx)("p",{}),Object(x.jsx)("div",{className:"form-group",children:Object(x.jsx)("input",{onChange:S,placeholder:"Gender",name:"Gender",type:"text",defaultValue:g&&g.Gender})}),Object(x.jsx)("p",{}),Object(x.jsx)("div",{className:"form-group",children:Object(x.jsx)("input",{onChange:S,placeholder:"Type",name:"TypeOfPet",type:"text",defaultValue:g&&g.TypeOfPet})}),Object(x.jsx)("p",{}),Object(x.jsx)("div",{className:"form-group",children:Object(x.jsx)("input",{onChange:S,placeholder:"Breed",name:"Breed",type:"text",defaultValue:g&&g.Breed})})]})}),Object(x.jsx)("div",{onClick:P,className:"modal-footer","data-bs-dismiss":"modal",children:Object(x.jsx)("button",{type:"submit",className:"btn save-pet-submit",children:"Save Pet"})})]})})})},K=function(){var e=Object(n.useContext)(O),t=e.petId,a=(e.setPetId,Object(n.useContext)(g).userData),c=Object(n.useState)(),s=Object(d.a)(c,2),r=s[0],i=s[1],u=Object(n.useState)(),j=Object(d.a)(u,1)[0],b=Object(m.f)(),p=(Object(m.g)(),Object(n.useContext)(O)),h=p.newPetData;return(0,p.setNewPetData)(!1),Object(n.useEffect)((function(){(function(){var e=Object(l.a)(o.a.mark((function e(){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(t);case 2:(a=e.sent)&&i(a);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[h,t]),Object(n.useEffect)((function(){}),[j]),Object(n.useEffect)((function(){a.user||b.push("/")}),[a.user,b]),Object(x.jsx)("div",{className:"container-fluid",children:Object(x.jsx)("div",{className:"container",children:Object(x.jsxs)("div",{className:"row",children:[r&&Object(x.jsx)("div",{className:"col-sm-3 py-5",children:Object(x.jsxs)("div",{className:"card m-2 shadow rounded",children:[r.PetImageLoc?Object(x.jsx)("img",{src:r.PetImageLoc,className:"card-img-top",alt:"petImage"}):Object(x.jsx)("img",{src:"./images/paw-print-small.png",alt:"pet Image"}),Object(x.jsxs)("div",{className:"card-body text-center",children:[Object(x.jsx)("h1",{className:"card-title",children:r.PetName}),Object(x.jsxs)("h4",{className:"card-title",children:["Birth Date: \xa0",Object(x.jsx)(Y.a,{format:"MM/DD/YYYY",children:r.BirthDate})]}),Object(x.jsx)("h4",{className:"card-title",children:r.Gender}),Object(x.jsx)("h4",{className:"card-title",children:r.Breed}),Object(x.jsx)("div",{className:"edit-new-pet",children:Object(x.jsx)("button",{"data-bs-toggle":"modal","data-bs-target":"#editAPetModal",type:"button",className:"edit-pet-btn btn btn-xl",children:"Edit"})})]})]})}),Object(x.jsx)(G,{data:r}),Object(x.jsx)("div",{className:"pet-dash-cards col-sm-9 py-5",children:Object(x.jsxs)("div",{className:"row",children:[r&&Object(x.jsx)(U,{petI:r._id,Reminders:r.Reminders}),r&&Object(x.jsx)(F,{petI:r._id,VetVisits:r.VetVisits}),r&&Object(x.jsx)(L,{petI:r._id,meds:r.Medications})]})})]})})})},W=a(114),J=a(112),q=function(e){var t=Object(n.useState)(null===e||void 0===e?void 0:e.vals),a=Object(d.a)(t,1)[0],c=Object(n.useState)(a?a[0]:null),s=Object(d.a)(c,1)[0],r=Object(n.useState)(a?a[1]:null),i=Object(d.a)(r,1)[0],o=Object(n.useState)(a?a[2]:null),l=Object(d.a)(o,1)[0],u=Object(n.useState)("meds"),j=Object(d.a)(u,2),b=j[0],m=j[1],p=function(){l.length>0&&m("rems"),s.length>0&&m("meds"),i.length>0&&m("vets")};return Object(n.useEffect)((function(){p()}),[a,p]),Object(x.jsxs)(W.a,{defaultActiveKey:b,id:"uncontrolled-tab-example",children:[s.length>0&&Object(x.jsx)(J.a,{eventKey:"meds",title:"Medications",children:Object(x.jsx)("ul",{children:s.map((function(e){return Object(x.jsxs)("li",{className:"notifications-list",children:[e.Pet," \xa0",Object(x.jsx)(Y.a,{utc:!0,format:"MM/DD/YYYY",children:e.Date}),"\xa0 ",e.Medication,"\xa0",e.Dose]})}))})}),i.length>0&&Object(x.jsx)(J.a,{eventKey:"vets",title:"Vet Visits",children:Object(x.jsx)("ul",{children:i.map((function(e){return Object(x.jsxs)("li",{className:"notifications-list",children:[e.Pet," \xa0",Object(x.jsx)(Y.a,{utc:!0,format:"MM/DD/YYYY",children:e.Date}),"\xa0",e.Notes]})}))})}),l.length>0&&Object(x.jsx)(J.a,{eventKey:"rems",title:"Reminders",children:l.map((function(e){return Object(x.jsxs)("li",{className:"notifications-list",children:[e.Pet," \xa0",Object(x.jsx)(Y.a,{utc:!0,format:"MM/DD/YYYY",children:e.Date}),"\xa0 ",e.Title,"\xa0",e.Notes]})}))})]})},z=a(70),Q=function(e,t){var a=new Date((new Date).setHours(0,0,0,0)),n=new Date;n.setDate(a.getDate()+2),a.setDate(a.getDate()-1);var c=[],s=[],r=[],i=function e(t){return Object.keys(t).flatMap((function(a){return Object(t[a])===t[a]?[a].concat(Object(z.a)(e(t[a]))):a}))};return e.length>0&&e.forEach((function(e){i(e).find((function(e){return"DueDate"===e}))&&e.Medications.forEach((function(t){R()(t.DueDate).isBetween(a,n)&&c.push({Pet:e.PetName,Date:t.DueDate,Medication:t.MedicationName,Dose:t.Dose})})),i(e).find((function(e){return"VisitDate"===e}))&&e.VetVisits.forEach((function(t){R()(t.VisitDate).isBetween(a,n)&&s.push({Pet:e.PetName,Date:t.VisitDate,Notes:t.VisitNotes,Weight:t.Weight})})),i(e).find((function(e){return"Date"===e}))&&e.Reminders.forEach((function(t){R()(t.Date).isBetween(a,n)&&r.push({Pet:e.PetName,Date:t.Date,Title:t.Title,Notes:t.Note})}))})),"nav"===t?c.length+s.length+r.length:"notify"===t?[c,s,r]:void 0},X=a(68),Z=a(69),$=function(){var e=Object(n.useContext)(g),t=e.userData,a=e.setUserData,c=Object(n.useState)(null),s=Object(d.a)(c,2),r=s[0],i=s[1],u=Object(n.useContext)(O),j=u.appt,m=u.setAppt,p=Object(n.useContext)(O).pets,h=Object(n.useState)(!1),f=Object(d.a)(h,2),v=f[0],N=f[1],y=Object(n.useState)([]),D=Object(d.a)(y,2),w=D[0],k=D[1],C=Object(n.useState)(!1),S=Object(d.a)(C,2),P=S[0],I=S[1],V=function(){a({token:void 0,user:void 0}),localStorage.setItem("auth-token","")},M={textDecoration:"none",color:"black"},Y=function(){N(!1)},E=function(){I(!1)},R=function(){I(!0)};return Object(n.useEffect)(Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.user?(i(Object(x.jsxs)("ul",{className:"navbar-nav ms-auto",children:[j>0&&Object(x.jsx)("li",{className:"nav-item ",children:Object(x.jsx)(b.b,{to:"..",onClick:function(e){e.preventDefault(),N(!0)},children:Object(x.jsx)("span",{className:"animate__animated animate__swing animate__repeat-3 fa fa-bell fa-sm",children:Object(x.jsx)("i",{className:"badge",children:j})})})}),Object(x.jsx)("li",{className:"nav-item ",children:Object(x.jsx)(b.b,{className:"nav-link",to:"/",style:M,onClick:V,children:"Log Out"})}),Object(x.jsx)("li",{className:"nav-item",children:Object(x.jsx)(b.b,{className:"nav-link",to:"/home",style:M,children:"Home"})}),Object(x.jsx)("li",{className:"nav-item",children:Object(x.jsx)(b.b,{to:"..",className:"nav-link",style:M,onClick:R,children:"About"})})]})),m(Q(p,"nav")),j&&k(Q(p,"notify"))):i(Object(x.jsxs)("ul",{className:"navbar-nav ms-auto",children:[Object(x.jsx)("li",{className:"nav-item",children:Object(x.jsx)(b.b,{className:"nav-link",to:"/login",style:M,children:"Login"})}),Object(x.jsx)("li",{className:"nav-item",children:Object(x.jsx)(b.b,{className:"nav-link",to:"/register",style:M,children:"Register"})})]}));case 1:case"end":return e.stop()}}),e)}))),[t,j,p]),Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("nav",{className:"navbar navbar-expand-lg",children:Object(x.jsxs)("div",{className:"container-fluid",children:[Object(x.jsx)("h3",{className:"navbar-brand",children:"MyPet"}),Object(x.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(x.jsx)(X.a,{icon:Z.a,style:{color:"#747d8c"}})}),Object(x.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:[r,Object(x.jsxs)(_.a,{name:"test",show:v,onHide:Y,children:[Object(x.jsx)("div",{className:"ms-auto",children:Object(x.jsx)("button",{style:{marginRight:"10px",marginTop:"10px",marginBottom:"0"},type:"button",className:"btn-close","aria-label":"Close",onClick:Y})}),Object(x.jsx)(_.a.Body,{children:Object(x.jsx)(q,{vals:w})})]}),Object(x.jsx)(_.a,{name:"about",show:P,onHide:E,children:Object(x.jsx)(_.a.Body,{children:Object(x.jsxs)("div",{className:"card text-center  border-0",children:[Object(x.jsx)("div",{className:"ms-auto",children:Object(x.jsx)("button",{type:"button",className:"btn-close","aria-label":"Close",onClick:E})}),Object(x.jsx)("h5",{className:"card-title",children:"The My Pet App"}),Object(x.jsxs)("div",{className:"card-body",children:[Object(x.jsx)("img",{src:"../images/paw_logo.PNG",alt:"petLogo",className:"p-3 img-fluid rounded-circle w-10"}),Object(x.jsx)("p",{className:"card-text",children:"Love your pet and want to make sure they are well taken care of? It can be difficult to keep up with regular pet exams, yearly vaccinations, and medications. After all, we have a hard enough time keeping up with our own health let alone that of our furry, feathery, or scaly friends. That's where My Pet comes in! A user friendly app that keeps track of your pets and all their medical needs for a healthier life."})]})]})})})]})]})})})},ee=function(){var e=Object(n.useContext)(g),t=e.userData,a=e.setUserData,c=function(){var e=Object(l.a)(o.a.mark((function e(n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,j.a.delete("/users/delete/".concat(t.user.id),{headers:{"x-auth-token":localStorage.getItem("auth-token")}});case 4:a({token:void 0,user:void 0}),localStorage.setItem("auth-token",""),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsx)("div",{id:"Delete",className:"modal fade",children:Object(x.jsx)("div",{className:"modal-dialog modal-confirm",children:Object(x.jsxs)("div",{className:"modal-content",children:[Object(x.jsxs)("div",{className:"modal-header flex-column",children:[Object(x.jsx)("div",{className:"icon-box",children:Object(x.jsx)("i",{className:"fa fa-times-circle"})}),Object(x.jsx)("h4",{className:"modal-title w-100",children:"Are you sure?!"})]}),Object(x.jsx)("div",{className:"modal-body",children:Object(x.jsx)("p",{children:"Do you really want to delete your account? This process cannot be undone."})}),Object(x.jsxs)("div",{className:"modal-footer justify-content-center",children:[Object(x.jsx)("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Cancel"}),Object(x.jsx)("button",{onClick:c,type:"button",className:"btn btn-danger","data-bs-dismiss":"modal",children:"Delete"})]})]})})})},te=function(){var e=Object(n.useContext)(g).userData;return Object(x.jsxs)("footer",{className:"bd-footer p-3 p-md-5 mt-5 bg-light text-center text-sm-start",children:[Object(x.jsxs)("div",{className:"container",children:[Object(x.jsx)("span",{className:"footer-text",children:"From pet parents to you"}),e.user?Object(x.jsx)("button",{"data-bs-toggle":"modal","data-bs-target":"#Delete",className:"delete-user-btn",children:"delete account"}):null]}),Object(x.jsx)(ee,{})]})},ae=function(e){var t=Object(m.f)();return Object(n.useEffect)((function(){Object(l.a)(o.a.mark((function a(){return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,j.a.post("/register",{token:e.match.params.token});case 3:t.push("/"),a.next=9;break;case 6:a.prev=6,a.t0=a.catch(0),console.log(a.t0);case 9:case"end":return a.stop()}}),a,null,[[0,6]])})))()}),[t,e.match.params.token]),Object(x.jsxs)("div",{children:["You are confirmed ",e.match.params.token]})},ne=function(){return Object(x.jsx)("div",{children:"You were sent an email, make sure to follow its link"})};var ce=function(){var e=Object(n.useState)({user:void 0,token:void 0}),t=Object(d.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)("pet babies"),r=Object(d.a)(s,2),i=r[0],u=r[1],p=Object(n.useState)(""),h=Object(d.a)(p,2),v=h[0],N=h[1],y=Object(n.useState)(0),D=Object(d.a)(y,2),w=D[0],C=D[1],S=Object(n.useState)({}),I=Object(d.a)(S,2),M=I[0],Y=I[1],E=function(){var e=Object(l.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(t=localStorage.getItem("auth-token"))){e.next=5;break}localStorage.setItem("auth-token",""),e.next=15;break;case 5:return e.prev=5,e.next=8,j.a.get("/users",{headers:{"x-auth-token":t}});case 8:a=e.sent,c({token:t,user:a.data}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),console.log("User must login");case 15:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){E()}),[]),Object(x.jsx)("div",{className:"App",children:Object(x.jsxs)(b.a,{children:[Object(x.jsx)(f.a,{}),Object(x.jsx)(g.Provider,{value:{userData:a,setUserData:c},children:Object(x.jsxs)(O.Provider,{value:{newPetData:i,setNewPetData:u,petId:v,setPetId:N,appt:w,setAppt:C,pets:M,setPets:Y},children:[Object(x.jsx)($,{}),Object(x.jsxs)(m.c,{children:[Object(x.jsx)(m.a,{exact:!0,path:"/petDash",component:K}),Object(x.jsx)(m.a,{path:"/login",component:V}),Object(x.jsx)(m.a,{path:"/register",component:P}),Object(x.jsx)(m.a,{path:"/confirm",component:ne}),Object(x.jsx)(m.a,{path:"/confirm_token/:token",component:ae}),Object(x.jsx)(m.a,{path:"/",component:k})]}),Object(x.jsx)(te,{})]})})]})})},se=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,115)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),n(e),c(e),s(e),r(e)}))};a(107),a(108);r.a.render(Object(x.jsx)(c.a.StrictMode,{children:Object(x.jsx)(ce,{})}),document.getElementById("root")),se()},75:function(e,t,a){}},[[109,1,2]]]);
//# sourceMappingURL=main.a0c221b8.chunk.js.map